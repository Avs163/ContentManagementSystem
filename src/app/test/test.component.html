<mat-tab-group [color]="'accent'" mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4">
  <mat-tab label="Clients">

<div class="button-row">
  <a mat-raised-button color="primary" [routerLink]="['/task-create']"><mat-icon>add</mat-icon></a>
</div>
<div class="example-container mat-elevation-z8">
  <table mat-table #table [dataSource]="dataSource">

    <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

    <!-- Title Column -->
    <ng-container matColumnDef="isbn">
      <th mat-header-cell *matHeaderCellDef> Client Name</th>
      <td mat-cell *matCellDef="let element" class="isbn-col"> {{element.name}} </td>
    </ng-container>

    <!-- Title Column -->
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> Type </th>
      <td mat-cell *matCellDef="let element"> {{element.type}} </td>
    </ng-container>

    <!-- Author Column -->
    <ng-container matColumnDef="author">
      <th mat-header-cell *matHeaderCellDef> Mobile </th>
      <td mat-cell *matCellDef="let element"> {{element.mobile}} </td>
    </ng-container>

    <ng-container matColumnDef="mail">
      <th mat-header-cell *matHeaderCellDef> Mail </th>
      <td mat-cell *matCellDef="let element"> {{element.mail}} </td>
    </ng-container>
    <ng-container matColumnDef="address">
      <th mat-header-cell *matHeaderCellDef> Address </th>
      <td mat-cell *matCellDef="let element"> {{element.address}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" [routerLink]="['/book-details/', row._id]"></tr>
  </table>
</div>
</mat-tab>
<mat-tab label="Cases">

  <div class="button-row">
    <a mat-raised-button color="primary" [routerLink]="['/case-create']"><mat-icon>add</mat-icon></a>
  </div>
  <div class="example-container mat-elevation-z8">
    <table mat-table #table [dataSource]="casedataSource">

      <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->

      <!-- Title Column -->

      <ng-container matColumnDef="Client">
        <th mat-header-cell *matHeaderCellDef> Client Name</th>
        <td mat-cell *matCellDef="let element" class="isbn-col"> {{element.client}} </td>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="Court">
        <th mat-header-cell *matHeaderCellDef> Court </th>
        <td mat-cell *matCellDef="let element"> {{element.court}} </td>
      </ng-container>

      <!-- Author Column -->
      <ng-container matColumnDef="Case Name">
        <th mat-header-cell *matHeaderCellDef> Case Name </th>
        <td mat-cell *matCellDef="let element"> {{element.case_name}} </td>
      </ng-container>

      <ng-container matColumnDef="Case Type">
        <th mat-header-cell *matHeaderCellDef> Case Type </th>
        <td mat-cell *matCellDef="let element"> {{element.case_type}} </td>
      </ng-container>
      <ng-container matColumnDef="Case Number">
        <th mat-header-cell *matHeaderCellDef> Case Number </th>
        <td mat-cell *matCellDef="let element"> {{element.case_number}} </td>
      </ng-container>
      <ng-container matColumnDef="Case Year">
        <th mat-header-cell *matHeaderCellDef> Case Year </th>
        <td mat-cell *matCellDef="let element"> {{element.case_year}} </td>
      </ng-container>
      <ng-container matColumnDef="Case Description">
        <th mat-header-cell *matHeaderCellDef> Case Description </th>
        <td mat-cell *matCellDef="let element"> {{element.case_description}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns2;" [routerLink]="['/book-details/', row._id]"></tr>
    </table>
  </div>

</mat-tab>
<mat-tab label="Case Documents">

  <!-- <mat-card  class="upload"> -->
    <!-- <ejs-dropdownlist style="padding-left:30px ; width:190px; float:left" id='ddlelement' #samples [dataSource]='drop' [fields]='dropfields' [placeholder]='text' [allowFiltering]='true' (filtering)='onFiltering($event)'></ejs-dropdownlist>
    <ejs-dropdownlist style="padding-left:50px ; width:380px; float:left" id='ddlelement' #samples [dataSource]='drop' [fields]='dropfields' [placeholder]='text2' [allowFiltering]='true' (filtering)='onFiltering($event)'></ejs-dropdownlist>
    <button mat-stroked-button (click) = "filePicker.click()"> Browse </button>
    <input type= "file" #filePicker (change) = "onFilePicked($event)">
   </mat-card>
   <div class="content" *ngIf="filePreview !== '' && filePreview">
   <ngx-extended-pdf-viewer [src]="filePreview" useBrowserLocale="true" height="80vh"></ngx-extended-pdf-viewer>
  </div> -->

  <mat-card class="choose" style="margin-top: 5rem;margin-bottom: 5rem;"> 
    <mat-spinner *ngIf = "isLoading"></mat-spinner>
    <form [formGroup] = "form" (submit) = "onSavePost()" *ngIf = "!isLoading">
    <mat-form-field>
      <input matInput type = "text"
      formControlName = "title"
      placeholder="Client Name">
      <mat-error *ngIf="form.get('title').invalid">Enter Client Name </mat-error>
    </mat-form-field>


    <!-- <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">
      <img [src]="imagePreview" [alt]="form.value.title">
    </div> -->
    <mat-form-field>
      <input matInput type = "text"
      formControlName = "content"
      placeholder="Case Name">
      <mat-error *ngIf="form.get('title').invalid">Enter Case Name </mat-error>
    </mat-form-field>
    <!-- <mat-form-field class="example-full-width">
      <mat-label>Case Name</mat-label>
      <textarea matInput
      id=""rows="6"
      formControlName = "content"
      matInput placeholder="Type Case Name">
      </textarea>
      <mat-error *ngIf="form.get('content').invalid">Enter case name </mat-error>
  </mat-form-field> -->
  <div>
      <button mat-stroked-button type="button" (click) = "filePicker.click()"style="float:left">Pick File</button>
      <input type = "file" #filePicker (change) = "onImagePicked($event)" style="float:left">
    </div>
    <button mat-raised-button
    color="primary"
    type="submit">Upload</button>
  </form>
  </mat-card>

  <mat-spinner *ngIf = "isLoading"></mat-spinner>
<mat-accordion multi = "true" *ngIf="posts.length >0 && !isLoading" >
<mat-expansion-panel *ngFor="let post of posts"  (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false">
    <mat-expansion-panel-header>
      <mat-panel-title>
       Client Name : {{ post.title }} Case Name: {{ post.content }}
      </mat-panel-title>
      <mat-panel-description>
        Click here to  {{ panelOpenState ? 'close' : 'View Documents'}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="content" >
      <pdf-viewer [src]="post.imagePath" [render-text]="true"  style="display: block;"></pdf-viewer>
     </div>
    <p>{{ post.content }}</p>
    <mat-action-row>
      <a mat-button color="accent" [routerLink] = "['/edit',post.id]">EDIT</a>
      <button mat-button color="warn" (click) = "onDelete(post.id)">DELETE</button>
    </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>
<mat-paginator [length] = "totalPosts" [pageSize] = "postsPerPage" [pageSizeOptions] = "pageSizeOptions" (page) = "onChangedPage($event)" *ngIf="posts.length >0"></mat-paginator>
<p class = "info-text mat-body-1" *ngIf="posts.length <=0 && !isLoading">Documents</p>



</mat-tab>
<mat-tab label="Timeline">

</mat-tab>
<!-- <mat-tab label="View Case Documents">
  <mat-card  class="choose">
    <ejs-dropdownlist style="padding-left:10px ; width:150px; float:left" id='ddlelement' #samples [dataSource]='drop' [fields]='dropfields' [placeholder]='text' [allowFiltering]='true' (filtering)='onFiltering($event)'></ejs-dropdownlist>
    <ejs-dropdownlist style="padding-left:10px ; width:150px; float:left" id='ddlelement' #samples [dataSource]='drop' [fields]='dropfields' [placeholder]='text2' [allowFiltering]='true' (filtering)='onFiltering($event)'></ejs-dropdownlist>
    <button ejs-progressbutton class= "mar" content="View Documents" [enableProgress]="true" duration=4000 cssClass="e-outline e-primary e-hide-spinner e-progress-top"
                          iconCss="e-btn-sb-icons e-download-icon"></button>
   </mat-card>
</mat-tab> -->
</mat-tab-group>
